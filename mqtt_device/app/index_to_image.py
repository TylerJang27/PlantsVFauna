import numpy as np
import re
import cv2
import matplotlib.pyplot as plt

# Your image
raw_values = np.array([[
    "102",
    "85",
    "85",
    "102",
    "102",
    "85",
    "85",
    "85",
    "68",
    "85",
    "153",
    "153",
    "119",
    "119",
    "34",
    "34",
    "17",
    "17",
    "0",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "34",
    "17"
  ],
  [
    "85",
    "119",
    "119",
    "85",
    "85",
    "85",
    "85",
    "85",
    "68",
    "68",
    "136",
    "136",
    "102",
    "85",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "0",
    "17",
    "17",
    "34",
    "17",
    "0"
    ],
    [
    "68",
    "85",
    "102",
    "102",
    "102",
    "102",
    "85",
    "85",
    "85",
    "68",
    "34",
    "34",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "0",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "34",
    "17",
    "17"
  ],
[
    "85",
    "68",
    "51",
    "68",
    "102",
    "102",
    "102",
    "102",
    "85",
    "85",
    "68",
    "51",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17"
  ],
[
    "68",
    "68",
    "34",
    "51",
    "102",
    "119",
    "102",
    "102",
    "102",
    "102",
    "85",
    "68",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17"
  ],[
    "85",
    "51",
    "17",
    "17",
    "68",
    "68",
    "119",
    "119",
    "136",
    "136",
    "153",
    "119",
    "51",
    "34",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "34",
    "17",
    "17",
    "17",
    "34",
    "17",
    "17",
    "17"
  ],[
    "68",
    "51",
    "17",
    "17",
    "34",
    "68",
    "119",
    "136",
    "153",
    "170",
    "170",
    "153",
    "85",
    "51",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "17",
    "34",
    "17",
    "34",
    "17",
    "34",
    "34",
    "17"
  ],[
    "68",
    "17",
    "17",
    "34",
    "34",
    "34",
    "85",
    "136",
    "187",
    "170",
    "170",
    "187",
    "153",
    "119",
    "85",
    "68",
    "34",
    "34",
    "34",
    "17",
    "34",
    "17",
    "34",
    "34",
    "51",
    "34",
    "17",
    "34",
    "34",
    "34",
    "34",
    "34"
  ],[
    "68",
    "51",
    "51",
    "34",
    "51",
    "34",
    "68",
    "85",
    "153",
    "170",
    "187",
    "187",
    "187",
    "187",
    "136",
    "136",
    "102",
    "85",
    "51",
    "34",
    "51",
    "51",
    "68",
    "68",
    "68",
    "51",
    "34",
    "34",
    "17",
    "34",
    "34",
    "34"
  ],[
    "119",
    "102",
    "85",
    "102",
    "102",
    "68",
    "34",
    "51",
    "119",
    "153",
    "221",
    "221",
    "221",
    "204",
    "221",
    "221",
    "204",
    "187",
    "170",
    "170",
    "170",
    "153",
    "170",
    "153",
    "119",
    "68",
    "34",
    "17",
    "34",
    "34",
    "34",
    "34"
  ],[
    "136",
    "119",
    "102",
    "102",
    "119",
    "119",
    "51",
    "51",
    "85",
    "136",
    "221",
    "221",
    "221",
    "221",
    "221",
    "238",
    "221",
    "221",
    "204",
    "204",
    "153",
    "136",
    "102",
    "102",
    "68",
    "68",
    "34",
    "34",
    "17",
    "34",
    "34",
    "34"
  ],[
    "170",
    "136",
    "119",
    "119",
    "102",
    "102",
    "51",
    "51",
    "68",
    "102",
    "204",
    "221",
    "221",
    "238",
    "238",
    "238",
    "221",
    "221",
    "204",
    "170",
    "68",
    "34",
    "34",
    "34",
    "34",
    "17",
    "34",
    "34",
    "34",
    "34",
    "34",
    "17"
  ],[
    "153",
    "136",
    "119",
    "119",
    "119",
    "102",
    "51",
    "34",
    "68",
    "102",
    "204",
    "221",
    "221",
    "238",
    "238",
    "238",
    "221",
    "221",
    "204",
    "187",
    "102",
    "85",
    "68",
    "51",
    "34",
    "51",
    "34",
    "34",
    "34",
    "34",
    "17",
    "34"
  ],[
    "102",
    "102",
    "136",
    "136",
    "102",
    "51",
    "34",
    "34",
    "85",
    "102",
    "204",
    "221",
    "238",
    "238",
    "238",
    "238",
    "238",
    "221",
    "221",
    "204",
    "187",
    "170",
    "170",
    "170",
    "136",
    "119",
    "85",
    "68",
    "51",
    "51",
    "51",
    "51"
  ],[
    "68",
    "51",
    "102",
    "85",
    "68",
    "68",
    "51",
    "51",
    "68",
    "102",
    "204",
    "221",
    "238",
    "238",
    "238",
    "238",
    "221",
    "221",
    "221",
    "204",
    "136",
    "136",
    "136",
    "136",
    "153",
    "153",
    "85",
    "68",
    "51",
    "68",
    "68",
    "51"
  ],[
    "51",
    "51",
    "68",
    "85",
    "85",
    "68",
    "68",
    "68",
    "68",
    "85",
    "187",
    "221",
    "221",
    "221",
    "221",
    "221",
    "221",
    "221",
    "204",
    "187",
    "187",
    "170",
    "136",
    "119",
    "102",
    "68",
    "68",
    "51",
    "68",
    "51",
    "51",
    "34"
  ],[
    "34",
    "51",
    "68",
    "68",
    "68",
    "51",
    "51",
    "51",
    "51",
    "85",
    "187",
    "204",
    "170",
    "170",
    "187",
    "204",
    "221",
    "204",
    "170",
    "136",
    "153",
    "170",
    "170",
    "170",
    "119",
    "119",
    "68",
    "68",
    "51",
    "51",
    "34",
    "34"
  ],[
    "34",
    "34",
    "17",
    "34",
    "34",
    "34",
    "34",
    "51",
    "51",
    "68",
    "153",
    "170",
    "85",
    "68",
    "119",
    "136",
    "170",
    "187",
    "170",
    "153",
    "85",
    "68",
    "102",
    "119",
    "136",
    "136",
    "85",
    "68",
    "51",
    "34",
    "34",
    "34"
  ],[
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51",
    "68",
    "153",
    "170",
    "68",
    "51",
    "102",
    "102",
    "102",
    "136",
    "170",
    "170",
    "102",
    "85",
    "51",
    "68",
    "85",
    "85",
    "68",
    "51",
    "34",
    "34",
    "34",
    "51"
  ],[
    "34",
    "17",
    "17",
    "34",
    "51",
    "34",
    "34",
    "34",
    "51",
    "68",
    "170",
    "170",
    "51",
    "34",
    "34",
    "51",
    "51",
    "51",
    "102",
    "119",
    "170",
    "153",
    "136",
    "102",
    "51",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51"
  ],[
    "17",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51",
    "68",
    "153",
    "136",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51",
    "68",
    "85",
    "102",
    "136",
    "119",
    "102",
    "34",
    "51",
    "34",
    "34",
    "17",
    "51",
    "34",
    "34"
  ],[
    "51",
    "17",
    "17",
    "34",
    "34",
    "17",
    "34",
    "34",
    "34",
    "51",
    "68",
    "68",
    "34",
    "17",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51",
    "51",
    "51",
    "51",
    "51",
    "51",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51"
  ],[
    "0",
    "34",
    "34",
    "34",
    "17",
    "34",
    "17",
    "34",
    "34",
    "34",
    "51",
    "51",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34",
    "51",
    "34",
    "34",
    "51",
    "51",
    "34",
    "34",
    "34",
    "34",
    "34",
    "34"
  ]])

# Enter the image height and width
height = int(len(raw_values))
width  = int(len(raw_values[0]))

def get_color(j):
    i = int(j)
    R_color = 0
    G_color = 0
    B_color = 0
    if i >= 0 and i < 30:
        R_color = 0
        G_color = 0
        B_color = 20 + (120.0 / 30.0) * i
    if i >= 30 and i < 60:
        R_color = (120.0 / 30) * (i - 30.0)
        G_color = 0
        B_color = 140 - (60.0 / 30.0) * (i - 30.0)
    if i >= 60 and i < 90:
        R_color = 120 + (135.0 / 30.0) * (i - 60.0)
        G_color = 0
        B_color = 80 - (70.0 / 30.0) * (i - 60.0)
    if i >= 90 and i < 120:
        R_color = 255
        G_color = 0 + (60.0 / 30.0) * (i - 90.0)
        B_color = 10 - (10.0 / 30.0) * (i - 90.0)
    if i >= 120 and i < 150:
        R_color = 255
        G_color = 60 + (175.0 / 30.0) * (i - 120.0)
        B_color = 0
    if i >= 150 and i <= 180:
        R_color = 255
        G_color = 235 + (20.0 / 30.0) * (i - 150.0)
        B_color = 0 + 255.0 / 30.0 * (i - 150.0)
    return R_color, G_color, B_color

# Create numpy array of BGR triplets
im = np.zeros((height,width,3), dtype=np.uint8)
a = raw_values.astype(np.int)
for row in range (height):
    for col in range(width):
        value = 180*(int(raw_values[row][col]) - int(np.amin(a))) / (int(np.amax(a))-int(np.amin(a)))
        R, G, B = get_color(value)
        im[row,col] = (B,G,R)

print(im)

# Save to disk
cv2.imwrite('image.png', im)
